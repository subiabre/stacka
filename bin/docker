#!/bin/sh

case $1 in
    "up")
        docker-compose -f docker-compose.yml up -d
        ;;

    "build")
        docker-compose -f docker-compose.yml build
        ;;

    "down")
        docker-compose -f docker-compose.yml down
        ;;

    "install")
        docker-compose -f docker-compose.yml up -d --build
        docker-compose -f docker-compose.yml exec php composer install
        docker-compose -f docker-compose.yml exec php bin/console doctrine:database:create
        docker-compose -f docker-compose.yml exec php bin/console doctrine:schema:update --force
        ;;

    *)
        if [ $# -eq 0 ]
        then
            docker-compose -f docker-compose.yml exec php bash
        else
            docker-compose -f docker-compose.yml exec php bin/stacka $@
        fi
        ;;
esac

exit 0
